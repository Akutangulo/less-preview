(function(){var Stor,t;Stor=function(){function Stor(t,e){this.key=null!=t?t:void 0,this.exp=null!=e?e:null,this.amp=amplify.store}return Stor.prototype.get=function(t){return null==t&&(t=this.key),this.amp(t)},Stor.prototype.set=function(t,e,n){return null==e&&(e=this.key),null==n&&(n=this.exp),this.amp(e,t,n)},Stor.prototype.remove=function(t){return null==t&&(t=this.key),this.amp(t,null)},Stor.prototype.empty=function(){var t,e;return t=this,e=t.amp(),$.each(e,function(e,n){t.amp(n,null)})},Stor}(),jQuery(function($){var OptionsDrawer,t;return OptionsDrawer=function(){function OptionsDrawer(){this.els={lessOptions:$("#less-options"),optsDrawer:$("#options-drawer"),optsWrap:$("#options-drawer-wrap"),optsBtn:$("#options-button"),optsLnk:$("#options-link"),nav:$("#nav")},this.fx={duration:300},this.text={optsOpen:"Close",optsDefault:"Options"},this.isOpen=!1,this.closeDrawer(!0),this.setupEvents()}return OptionsDrawer.prototype.setupEvents=function(){var t,e;e=this,t=e.els,t.optsBtn.on("click",function(t){t.preventDefault(),e.isOpen?e.closeDrawer.call(e):e.openDrawer.call(e)}),t.optsLnk.on("click",function(e){e.preventDefault(),t.optsBtn.trigger("click")})},OptionsDrawer.prototype.openDrawer=function(){var t,e;this.els.lessOptions.addClass("open"),e={top:this.els.nav.height(),opacity:1},t={duration:this.fx.duration},this.detach(),this.animateDrawer("open",e,t)},OptionsDrawer.prototype.closeDrawer=function(t){var e,n,s;e=this.els,e.lessOptions.removeClass("open"),s={top:-this.getDrawerTop(),opacity:0},n={duration:t?0:this.fx.duration},n.complete=t?function(){return e.optsDrawer.fadeIn()}:void 0,this.animateDrawer("close",s,n)},OptionsDrawer.prototype.animateDrawer=function(t,e,n){var s,o,r,i;i=this,r=this.els.optsDrawer,o=new $.Deferred,s=n.complete||function(){},n.complete=function(){return o.resolve(),s.apply(i,arguments)},r.animate(e,n),o.done(function(){return"close"===t?i.onClose.call(i):i.onOpen.call(i)})},OptionsDrawer.prototype.onOpen=function(){this.isOpen=!0},OptionsDrawer.prototype.onClose=function(){this.attach(),this.isOpen=!1},OptionsDrawer.prototype.getDrawerTop=function(){return this.els.optsDrawer.outerHeight()-this.els.nav.height()},OptionsDrawer.prototype.getBtnLeft=function(){var t;return t=this.els.optsBtn[0],t.parentElement.offsetLeft+t.parentElement.parentElement.offsetLeft},OptionsDrawer.prototype.attach=function(){this.els.optsBtn.insertAfter(this.els.optsLnk),this.els.optsBtn.removeClass("active")[0].style.cssText=""},OptionsDrawer.prototype.detach=function(){var t,e,n,s;t=this.els,n=t.optsBtn,s=n.width(),e=this.getBtnLeft(),t.optsBtn.css({left:e,width:s}).addClass("active"),this.els.optsBtn.appendTo(this.els.optsWrap)},OptionsDrawer}(),t=new OptionsDrawer}),t=angular.module("Less2Css",[]),t.run(["$rootScope",function(t){return t.$safeApply=function(e,n){e=e||t,n=n||function(){},e.$$phase?n():e.$apply(n)}}]),t.directive("lessEditor",[function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,s){var o,r;return r=function(){return function(e){var n;n=e.getValue(),n!==s.$viewValue&&(s.$setViewValue(n),t.$apply())}},o=function(){var o,i;i=t[n.opts],o=CodeMirror.fromTextArea(e[0],i),o.on("change",r(i.onChange)),s.$render=function(){o.setValue(s.$viewValue)}},t.$on("optionsLoaded",o)}}}]),t.directive("fadeShow",function(){return function(t,e,n){var s,o,r,i;return s=$(e),r=n.fadeShow,o=400,i=function(t,e){null==e&&(e=!1),t?s.fadeIn(o):e?s.hide():s.fadeOut(o)},i(t.$eval(r),!0),t.$watch(function(){return t.$eval(r)},function(t){return i(t)})}}),t.factory("LessCache",function(){return new Stor("lessCode")}),t.factory("LessCompiler",["$http","LessCache",function(t,e){var n;return n=function(){function t(){this.options={saveLess:!0,lessPath:"/javascripts/less/less-{version}.js"},this.defaults=_.cloneDeep(this.options),this.storage=e}return t.prototype.updateOptions=function(t){this.lessOptions=t,window.less&&this.initLess()},t.prototype.loadLess=function(){var t,e,n,s,o;return n=this.options,e=this.lessOptions,o=e.lessVersion,o=o===e.preRelease?""+o+"-alpha":o,s=n.lessPath.replace("{version}",o),window.less=void 0,t=$.ajax({dataType:"script",cache:!0,url:s})},t.prototype.initLess=function(){return this.parser=new less.Parser(this.lessOptions)},t.prototype.compileLess=function(t){var e;try{return e=this.parseLess(t,this.lessOptions),this.error=!1,e}catch(n){return this.error=!0,this.updateError(n)}},t.prototype.updateError=function(t){var e;return e=""+t.type+" error: "+t.message+"\n"+(t.extract&&t.extract.join&&t.extract.join(""))},t.prototype.parseLess=function(t){var e;return e="",this.parser.parse(t,function(t,n){if(t)throw t;return e=n.toCSS()}),e},t}(),new n}]),t.controller("Less2CssCtrl",["$scope","$http","LessCompiler","LessCache",function(t,e,n,s){var o,r,i,a,p;return r=e.get("/less-options"),r.success(function(e){p(e),a(e),t.$emit("optionsLoaded"),t.updateOptions(),i()}),t.lessInput=s.get()||$("#lessInput").val(),t.cssOutput="",t.rootpath="",t.loading=!1,t.legacyUnits=!1,t.compileError=!1,r.success(function(){t.$watch("lessInput",function(t){s.set(t),o()}),t.$watch("lessOptions",function(){o()},!0),t.$watch("lessOptions.lessVersion",function(){i()})}),t.updateOptions=function(){var e;e=t.lessOptions,e.dumpLineNumbers=t.lineNumbersEnabled?t.dumpLineNumbers:!1,e.rootpath=t.rootPathEnabled?t.rootpath:"",t.legacyUnits=!t.isLegacy()&&t.legacyUnits?!0:!1,e.strictMaths=e.strictUnits=t.legacyUnits?!1:!0,n.updateOptions(e)},t.toggleLineNumbers=function(){t.lineNumbersEnabled=!t.lineNumbersEnabled,t.updateOptions()},t.toggleRootPath=function(){t.rootPathEnabled=!t.rootPathEnabled,t.updateOptions()},t.toggleLegacyUnits=function(){t.legacyUnits=!t.legacyUnits,t.updateOptions()},t.toggleTxt=function(e){return t[e]?"Enabled":"Disabled"},t.isLegacy=function(){return t.lessOptions?1.4>parseFloat(t.lessOptions.lessVersion,10):!1},i=function(){var e;return t.loading=!0,e=n.loadLess(),e.done(function(){t.$apply(function(){n.initLess(),o(),t.loading=!1})})},o=function(){t.cssOutput=n.compileLess(t.lessInput),t.compileError=n.error,t.$safeApply()},p=function(e){var n,s;for(n in e)s=e[n],t[n]=s},a=function(e){_.each(e.lessVersions,function(e){return"current"===e.type&&(t.lessOptions.lessVersion=e.number),"pre"===e.type?t.lessOptions.preRelease=e.number:void 0}),t.dumpLineNumbers=function(){var t;return t=_.find(e.lineNumberOptions,function(t){return!!t["default"]}),t.value}()}}])}).call(this);