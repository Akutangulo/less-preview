var Stor=function(){function n(t,n){this.key=t!=e?t:void 0;this.exp=n!=e?n:e;this.amp=amplify.store}var e=null,t="prototype";n[t].get=function(t){t==e&&(t=this.key);return this.amp(t)};n[t].set=function(t,n,r){n==e&&(n=this.key);r==e&&(r=this.exp);return this.amp(n,t,r)};n[t].remove=function(t){t==e&&(t=this.key);return this.amp(t,e)};n[t].empty=function(){var t=this,n=t.amp();return $.each(n,function(n,r){return t.amp(r,e)})};return n}(),LessCompiler=function(){function m(s,o){if(!s)return;this[e]=s;this[t]=CodeMirror.fromTextArea(s.lessInput[0],{theme:"lesser-dark",lineNumbers:n,matchBrackets:n,tabSize:2});o==null&&(o={lessCDN:"//raw.github.com/cloudhead/less.js/master/dist/less-{version}.js",cdnFallback:"js/less/less-{version}.js"});this[r]=!1;this[i]=o}var e="elements",t="editor",n=!0,r="useFallback",i="options",s="prototype",o="previousLessCode",u="getValue",a="lessVersion",f="change",l="loadLess",c="compileLess",h="loadingGif",p="loadComplete",d="tryCount",v="color";m[s].setupEvents=function(){var n=this,r=this[e],i=this[t];this[o]=i[u]();r[a].on(f,function(){n[l]()});i.on(f,function(){var e=n[t][u]();if(n[o]===e)return;n[o]=e;n[c]()})};m[s][l]=function(){var s,o,u,f=this,c=this[e],v=this[r]?this[i].cdnFallback:this[i].lessCDN;c[h].fadeIn();this[t][i].readOnly=n;s=c[a].val();o=v.replace("{version}",s);window.less=undefined;u=$.ajax({dataType:"script",cache:n,url:o});u.then(function(){if(window.less)f[p].call(f);else{f[d]=f[d]?f[d]++:1;f[r]=n;f[d]<=3&&f[l]()}})};m[s][p]=function(){this.parser=new less.Parser({});this[t][i].readOnly=!1;this[c]();this[e][h].fadeOut()};m[s][c]=function(){var n,r,i,s=this[e],o=this[t][u]();try{n=this.parseLess(o);r=hljs.highlight("css",n).value;s.cssCode.css(v,"").html(r)}catch(a){i=a.type+" error: "+a.message+"\n"+(a.extract&&a.extract.join(""));s.cssCode.css(v,"red").text(i)}};m[s].parseLess=function(e){var t="";this.parser.parse(e,function(e,n){if(e)throw e;t=n.toCSS()});return t};return m}();jQuery(function(e){var t={lessVersion:e("#lessVersion"),loadingGif:e("#loadingGif"),lessInput:e("#lessInput"),cssCode:e("#cssOutput")},n=new LessCompiler(t);n.setupEvents();n.loadLess()});